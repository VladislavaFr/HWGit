# Проект по обучению Python: Маскировка, генераторы и обработка операций
=========================================================================

## Описание проекта
-------------------
Этот проект создан в рамках учебного курса по Python. В нём реализованы функции для:

- маскировки номеров банковских карт и счетов,
- обработки строк с датами,
- фильтрации и сортировки банковских операций,
- генерации описаний транзакций с использованием генераторов,
- а также написаны модульные тесты с использованием `pytest`.

Проект оформлен с использованием современных инструментов для проверки, тестирования и форматирования кода: `flake8`, `black`, `isort`, `mypy`, `pytest`.

---

## Установка
------------

1. Клонируйте репозиторий:
```bash
git clone <ссылка_на_репозиторий>

2. Установите Poetry (если не установлен):
pip install poetry

3. Установите зависимости:
poetry install

---

## Структура проекта
--------------------

| Файл/Папка            | Описание                                                  |
|------------------------|-----------------------------------------------------------|
| src/masks.py         | Маскировка номеров карт и счетов                         |
| src/widget.py        | Обработка строк с номером карты/счёта, преобразование дат |
| src/processing.py    | Фильтрация и сортировка операций                         |
| src/generators.py    | Генератор описаний транзакций                            |
| src/__init__.py      | Инициализация пакета                                     |
| tests/               | Папка с тестами                                          |
| main.py _(опционально)_ | Точка входа для запуска (не обязателен)              |
| .flake8              | Конфигурация для flake8                                  |
| pyproject.toml       | Конфигурация Poetry и инструментов разработки            |
| .gitignore           | Список исключений для Git                                |
| README.md            | Документация проекта                                     |

---

## Используемые технологии
--------------------------

- Python 3.12+
- Poetry
- Pytest + Pytest-cov
- Flake8
- Black
- Isort
- Mypy

---

## Примеры работы функций
-------------------------

### Маскировка карты
get_mask_card_number("7000792289606361")
# → "7000 79** **** 6361"

### Маскировка счёта
get_mask_account("73654108430135874305")
# → "**4305"

### Обработка строки с номером
mask_account_card("Visa Platinum 7000792289606361")
# → "Visa Platinum 7000 79** **** 6361"

### Преобразование даты
get_date("2024-03-11T02:26:18.671407")
# → "11.03.2024"

### Фильтрация по статусу
filter_by_state(data, state="EXECUTED")

### Сортировка по дате
sort_by_date(data, reverse=True)   # от новых к старым
sort_by_date(data, reverse=False)  # от старых к новым

### Генератор описаний транзакций
transactions = [
    {"description": "Перевод организации"},
    {"description": "Оплата услуг"},
    {"description": "Покупка товара"}
]

gen = transaction_descriptions(transactions)

next(gen)  # → "Перевод организации"
next(gen)  # → "Оплата услуг"
next(gen)  # → "Покупка товара"

---

## Тестирование
---------------

Для запуска всех тестов:
poetry run pytest

Для проверки покрытия кода тестами:
poetry run pytest --cov=src --cov-report=html

После выполнения появится папка htmlcov с файлом index.html, в котором можно визуально проверить процент покрытия кода тестами. В проекте достигнуто покрытие > 80%.

---

## Статус
---------

Проект в активной разработке. Добавлены генераторы, покрытие тестами 100%, код проверен линтерами. Все домашние задания с 1 по 5 включены в структуру проекта. Предусмотрена возможность масштабирования под будущие задачи и расширение функционала.