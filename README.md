# Проект по обучению Python: Маскировка данных и обработка операций
=====================

## Описание проекта
-----------------------------------
Этот проект создан в рамках учебного курса по Python. В нём реализованы функции для:
- маскировки номеров банковских карт и счетов,
- обработки строк с датами,
- фильтрации и сортировки банковских операций,
- а также написаны тесты с использованием `pytest`.

Проект оформлен с использованием инструментов для проверки и форматирования кода: `flake8`, `black`, `isort`, `mypy`, `pytest`.

***

## Установка
-----------------------------------

1. Клонируйте репозиторий:
```bash
git clone <ссылка_на_репозиторий>
```

2. Установите Poetry:
```bash
pip install poetry
```

3. Установите зависимости:
```bash
poetry install
```

***

## Структура проекта
-----------------------------------

Название файла  | Описание
----------------|----------------------
`src/masks.py` | Маскировка номеров карт и счетов
`src/widget.py` | Обработка строк с номером и типом карты/счёта, преобразование дат
`src/processing.py` | Фильтрация и сортировка операций
`tests/` | Папка с тестами для всех функций
`main.py` | Точка входа (необязательно для импорта)
`.flake8` | Настройки для flake8
`pyproject.toml` | Настройки проекта и линтеров
`README.md` | Документация
`.gitignore` | Исключения для git

***

## Используемые технологии
-----------------------------------

- Python 3.12
- Poetry
- Flake8
- Black
- Isort
- Mypy
- Pytest
- Pytest-cov

***

## Примеры работы функций
-----------------------------------

### Маскировка карты
```python
get_mask_card_number("7000792289606361")
# Результат: "7000 79** **** 6361"
```

### Маскировка счёта
```python
get_mask_account("73654108430135874305")
# Результат: "**4305"
```

### Обработка строки с номером
```python
mask_account_card("Visa Platinum 7000792289606361")
# Результат: "Visa Platinum 7000 79** **** 6361"
```

### Преобразование даты
```python
get_date("2024-03-11T02:26:18.671407")
# Результат: "11.03.2024"
```

### Фильтрация по статусу
```python
filter_by_state(data, state="EXECUTED")
```

### Сортировка по дате
```python
sort_by_date(data, reverse=True)  # от новых к старым
sort_by_date(data, reverse=False)  # от старых к новым
```

***

## Тестирование
-----------------------------------

Для запуска тестов и проверки покрытия:

```bash
poetry run pytest --cov=src --cov-report=html
```

Появится папка `htmlcov` с файлом `index.html`, в котором можно увидеть, насколько проект покрыт тестами (более 80%).

***